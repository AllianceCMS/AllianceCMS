<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Using AXMLS</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
	<table class="tutorial-nav-box">
	<tr>
		<td style="width: 30%">
							<a href="../axmls/tutorial_getting_started.pkg.html"><img src="../media/images/previous_button.png" alt="Previous"></a>
					</td>
		<td style="text-align: center">
					</td>
		<td style="text-align: right; width: 30%">
							<span class="disabled"><img src="../media/images/next_button_disabled.png" alt="Next"></span>
					</td>
	</tr>
	<tr>
		<td style="width: 30%">
							<span class="detail">Getting Started</span>
					</td>
		<td style="text-align: center">
					</td>
		<td style="text-align: right; width: 30%">
					</td>
	</tr>
</table>
	
Using AXMLS<p>AXMLS consists of two parts: the 
                <em>schema description</em>, or 
                <em>DTD</em>, and the PHP class that manipulates 
                and parses the schema. This document introduces the reader to 
                many to many of the tools AXMLS 
                provides to manage and manipulate a schema.</p>
    Executing the Schema<p>AXMLS provides two different methods 
            for applying the SQL resulting from a parsed schema to the 
            database: <em>inline execution</em> and <em>post 
            execution</em>. Use the ContinueOnError() 
            method to specify whether or not database execution should attempt 
            to continue if an error occurs.</p>
        <p><em>Inline Execution</em> applies each schema entity 
            to the database immediately after that entity is parsed. I.e., the 
            first table is read from the schema and applied to the database, 
            then the second table, etc.</p>
        <pre class="listing"><pre>
$schema = new adoSchema( $this-&gt;dbconn );

// Inline Execution
$schema-&gt;ContinueOnError( TRUE );
$schema-&gt;ExecuteInline( TRUE );
$schema-&gt;ParseSchemaFile( &quot;schema.xml&quot; );
</pre></pre>
        <p><em>Post Execution</em> parses the entire database 
            and then applies all of the resulting SQL statements to the 
            database in order.</p>
        <pre class="listing"><pre>
$schema = new adoSchema( $this-&gt;dbconn );

// Post Execution (default)
$schema-&gt;executeInline( FALSE );
$schema-&gt;ParseSchemaFile( &quot;schema.xml&quot; );
$schema-&gt;ExecuteSchema();
</pre></pre>
        <p>If successful, either method will build or upgrade the 
            database.</p>
    Upgrading an Existing Database<p>Upgrading a database is as simple as creating one. To upgrade an 
            existing database to a new version of a schema, simply parse and 
            execute the schema as above. AXMLS will 
            automatically upgrade all tables and indices to match those 
            provided in the schema.</p>
    Object Prefixing<p>In a world of pluggable and reusable code, multple applications 
            often coexist in a single database. Object prefixes allow you to 
            create a namespace for your application. For example, an 
            application called Tackle might want to 
            prefix all its tables and objects with <em>tackle_</em> 
            so they'll be less likely to confict with other applications that 
            share the database. AXMLS's setPrefix() 
            method provides this capability.</p>
        <pre class="listing"><pre>
$schema = new adoSchema( $this-&gt;dbconn );

// Set the prefix for database objects (before parsing)
$schema-&gt;setPrefix( 'tackle' );
</pre></pre>
    Getting at the SQL<p>AXMLS provides several tools for 
            accessing the SQL created by the schema parser. Calling 
            PrintSQL() returns the parsed SQL in HTML, 
            text, or PHP array format. Calling SaveSQL() 
            saves the parsed SQL to the specified file.</p>
        <pre class="listing"><pre>
$schema-&gt;ParseSchemaFile( &quot;schema.xml&quot; );
$schema-&gt;ExecuteSchema();

print( $schema-&gt;PrintSQL( 'TEXT' ); // Display SQL as text
print( $schema-&gt;PrintSQL( 'HTML' ); // Display SQL as HTML
$sql = $schema-&gt;PrintSQL();	// Fetch SQL as array

// Save SQL to file
$schema-&gt;SaveSQL( 'schema.sql' );
</pre></pre>
    <p>As always, see the Class Documentation for detailed 
        information about the methods.</p>

	<table class="tutorial-nav-box">
	<tr>
		<td style="width: 30%">
							<a href="../axmls/tutorial_getting_started.pkg.html"><img src="../media/images/previous_button.png" alt="Previous"></a>
					</td>
		<td style="text-align: center">
					</td>
		<td style="text-align: right; width: 30%">
							<span class="disabled"><img src="../media/images/next_button_disabled.png" alt="Next"></span>
					</td>
	</tr>
	<tr>
		<td style="width: 30%">
							<span class="detail">Getting Started</span>
					</td>
		<td style="text-align: center">
					</td>
		<td style="text-align: right; width: 30%">
					</td>
	</tr>
</table>
	
	<p class="notes" id="credit">
		Documentation generated on Tue, 27 Jul 2004 20:05:45 -0400 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.3.0RC3</a>
	</p>
	</div></body>
</html>