<?xml version="1.0" encoding="UTF-8"?>
<schema version="0.3">
	<table name="languages">
		<desc>A languages table to enable multilingual support for our application.</desc>
		<field name="id" type="I">
			<descr>A unique ID assigned to each language.</descr>
			<KEY />
			<AUTOINCREMENT />
			<NOTNULL />
		</field>
        <field name="site_id" type="I">
        </field>
		<field name="name" type="C" size="100">
		</field>
		<field name="folder_name" type="C" size="100">
		</field>
		<field name="created" type="T">
		</field>
		<field name="modified" type="T">
			<DEFTIMESTAMP />
		</field>
		<index name="name">
			<descr>Put a unique index on the language name</descr>
			<col>name</col>
			<UNIQUE />
		</index>
	</table>

    <table name="links">
        <desc>A typical links table for our application.</desc>
        <field name="id" type="I">
            <descr>A unique ID assigned to each link.</descr>
            <KEY />
            <AUTOINCREMENT />
            <NOTNULL />
        </field>
        <field name="site_id" type="I">
        </field>
        <field name="label" type="C" size="100">
        </field>
        <field name="url" type="C" size="200">
        </field>
        <field name="comment" type="X">
        </field>
        <field name="parent" type="I">
        </field>
        <field name="link_area" type="C" size="20">
        </field>
        <field name="user_classes" type="C" size="200">
        </field>
        <field name="link_order" type="I">
        </field>
        <field name="active" type="I">
        </field>
        <field name="created" type="T">
        </field>
        <field name="modified" type="T">
            <DEFTIMESTAMP />
        </field>
    </table>
    
    <table name="menus">
        <desc>A menus table for our application.</desc>
        <field name="id" type="I">
            <descr>A unique ID assigned to each menu.</descr>
            <KEY />
            <AUTOINCREMENT />
            <NOTNULL />
        </field>
        <field name="site_id" type="I">
        </field>
        <field name="name" type="C" size="100">
        </field>
        <field name="link" type="C" size="200">
        </field>
        <field name="plugin_id" type="I">
        </field>
        <field name="menu_area" type="C" size="20">
        </field>
        <field name="active" type="I">
        </field>
        <field name="menu_order" type="I">
        </field>
        <field name="created" type="T">
        </field>
        <field name="modified" type="T">
            <DEFTIMESTAMP />
        </field>
        <index name="name">
            <descr>Put a unique index on the menu name</descr>
            <col>login_name</col>
            <UNIQUE />
        </index>
    </table>
    
    <table name="plugins">
        <desc>A typical plugins table for our application.</desc>
        <field name="id" type="I">
            <descr>A unique ID assigned to each plugin.</descr>
            <KEY />
            <AUTOINCREMENT />
            <NOTNULL />
        </field>
        <field name="site_id" type="I">
        </field>
        <field name="name" type="C" size="100">
        </field>
        <field name="version" type="C" size="20">
        </field>
        <field name="folder_base_dir" type="C" size="200">
        </field>
        <field name="folder_name" type="C" size="100">
        </field>
        <field name="description" type="X">
        </field>
        <field name="developer" type="C" size="100">
        </field>
        <field name="developer_email" type="C" size="100">
        </field>
        <field name="developer_site" type="C" size="200">
        </field>
        <field name="user_classes" type="C" size="200">
        </field>
        <field name="active" type="I">
        </field>
        <field name="created" type="T">
        </field>
        <field name="modified" type="T">
            <DEFTIMESTAMP />
        </field>
        <index name="name">
            <descr>Put a unique index on the plugin name</descr>
            <col>name</col>
            <UNIQUE />
        </index>
    </table>
    
    <table name="sessions2">
        <desc>A session table for our application.</desc>
        <field name="sesskey" type="C" size="64">
            <KEY />
            <NOTNULL />
            <DEFAULT value="" />
        </field>
        <field name="expiry" type="T">
            <NOTNULL />
        </field>
        <field name="expireref" type="C" size="250">
            <DEFAULT value="" />
        </field>
        <field name="created" type="T">
            <NOTNULL />
        </field>
        <field name="modified" type="T">
            <NOTNULL />
        </field>
        <field name="sessdata" type="X">
            <DEFAULT value="" />
        </field>
        <index name="sess2_expiry">
            <col>expiry</col>
        </index>
        <index name="sess2_expireref">
            <col>expireref</col>
        </index>
    </table>
    
    <table name="sites">
        <desc>A typical sites table for our application.</desc>
        <field name="id" type="I">
            <descr>A unique ID assigned to each site_pref.</descr>
            <KEY />
            <AUTOINCREMENT />
            <NOTNULL />
        </field>
        <field name="name" type="C" size="100">
        </field>
        <field name="title" type="C" size="20">
        </field>
        <field name="tagline" type="C" size="200">
        </field>
        <field name="description" type="X">
        </field>
        <field name="keywords" type="X">
        </field>
        <field name="owner_id" type="I">
        </field>
        <field name="owner_email" type="C" size="100">
        </field>
        <field name="main_site_email" type="C" size="100">
        </field>
        <field name="main_site_email_name" type="C" size="100">
        </field>
        <field name="active_theme" type="I">
        </field>
        <field name="default_plugin" type="I">
        </field>
        <field name="maintenance_flag" type="I">
        </field>
        <field name="maintenance_flag_text" type="X">
        </field>
        <field name="language_id" type="I">
        </field>
        <field name="active" type="I">
        </field>
        <field name="created" type="T">
        </field>
        <field name="modified" type="T">
            <DEFTIMESTAMP />
        </field>
        <index name="name">
            <descr>Put a unique index on the language name</descr>
            <col>name</col>
            <UNIQUE />
        </index>
    </table>
    
    <table name="themes">
        <desc>A typical themes table for our application.</desc>
        <field name="id" type="I">
            <descr>A unique ID assigned to each theme.</descr>
            <KEY />
            <AUTOINCREMENT />
            <NOTNULL />
        </field>
        <field name="site_id" type="I">
        </field>
        <field name="name" type="C" size="100">
        </field>
        <field name="version" type="C" size="20">
        </field>
        <field name="folder_name" type="C" size="100">
        </field>
        <field name="favicon" type="C" size="100">
        </field>
        <field name="description" type="X">
        </field>
        <field name="designer" type="C" size="100">
        </field>
        <field name="designer_email" type="C" size="100">
        </field>
        <field name="designer_site" type="C" size="200">
        </field>
        <field name="selectable" type="I">
        </field>
        <field name="active" type="I">
        </field>
        <field name="created" type="T">
        </field>
        <field name="modified" type="T">
            <DEFTIMESTAMP />
        </field>
        <index name="name">
            <descr>Put a unique index on the theme name</descr>
            <col>name</col>
            <UNIQUE />
        </index>
    </table>
    
    <table name="users">
        <desc>A typical users table for our application.</desc>
        <field name="id" type="I">
            <descr>A unique ID assigned to each user.</descr>
            <KEY />
            <AUTOINCREMENT />
            <NOTNULL />
        </field>
        <field name="site_id" type="I">
        </field>
        <field name="display_name" type="C" size="100">
        </field>
        <field name="real_name" type="C" size="100">
        </field>
        <field name="login_name" type="C" size="100">
        </field>
        <field name="password" type="C" size="50">
        </field>
        <field name="email_address" type="C" size="100">
        </field>
        <field name="hide_email_address" type="I">
        </field>
        <field name="timezone_offset" type="I">
        </field>
        <field name="location" type="C" size="100">
        </field>
        <field name="website" type="C" size="200">
        </field>
        <field name="bio" type="X">
        </field>
        <field name="avatar" type="C" size="200">
        </field>
        <field name="signature" type="X">
        </field>
        <field name="preferred_theme_id" type="I">
        </field>
        <field name="user_classes" type="C" size="200">
        </field>
        <field name="last_ip" type="C" size="15">
        </field>
        <field name="last_login_time" type="T">
        </field>
        <field name="registration_ip" type="C" size="15">
        </field>
        <field name="language_id" type="I">
        </field>
        <field name="active" type="I">
        </field>
        <field name="created" type="T">
        </field>
        <field name="modified" type="T">
            <DEFTIMESTAMP />
        </field>
        <index name="login_name">
            <descr>Put a unique index on the login name</descr>
            <col>login_name</col>
            <UNIQUE />
        </index>
        <index name="email_address">
            <descr>Put a unique index on the email address</descr>
            <col>email_address</col>
            <UNIQUE />
        </index>
    </table>
    
    <table name="user_classes">
        <desc>A user_classes table for our application.</desc>
        <field name="id" type="I">
            <descr>A unique ID assigned to each user_class.</descr>
            <KEY />
            <AUTOINCREMENT />
            <NOTNULL />
        </field>
        <field name="site_id" type="I">
        </field>
        <field name="name" type="C" size="100">
        </field>
        <field name="parent_class_id" type="I">
        </field>
        <field name="active" type="I">
        </field>
        <field name="created" type="T">
        </field>
        <field name="modified" type="T">
            <DEFTIMESTAMP />
        </field>
        <index name="name">
            <descr>Put a unique index on the user class name</descr>
            <col>login_name</col>
            <UNIQUE />
        </index>
    </table>
    
    <sql>
		<!-- <descr>Insert some data into the languages table.</descr> -->
		<!-- <query>insert into languages (name, folder_name, created) values ('English', 'English', 'DEFTIMESTAMP')</query> -->
	</sql>
</schema>